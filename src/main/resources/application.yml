joinfaces:
  jsf:
    projectStage: Development
    faceletsSkipComments: true
    enableWebsocketEndpoint: true
  primefaces:
    theme: smoothness
    fontAwesome: true
  bootsfaces:
    getBootstrapFromCdn: false
server:
  port: 8081
  servlet:
    session:
      timeout: 8H
spring:
  mail:
    host: smtp.ukl.uni-freiburg.de
    port: 465
    properties:
      mail:
        debug: true
        smtp:
          starttls.enable: true
          ssl.trust: smtp.ukl.uni-freiburg.de
          auth: false
    protocol: smtps
  main:
    allow-bean-definition-overriding: true
  servlet:
    multipart:
      max-file-size: 50MB
      max-request-size: 100MB
  datasource:
    #url: jdbc:postgresql://localhost/pathofro2.0
    url: jdbc:postgresql://localhost/pathofro
    username: postgres
    password: postgres
  data:
    redis:
      repositories:
        enabled: false
  #remove for productive
  devtools:
    livereload:
      enabled: true
    restart:
      enabled: false
  #set to true for productive
  freemarker:
    cache: false
    check-template-location: false
  jpa:
    database-platform: org.hibernate.dialect.PostgreSQLDialect
    show-sql: false
    hibernate:
      # hardcoded in DatabaseConfig, removed in v3
      ddl-auto: none
      naming:
        physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
    properties:
      hibernate.dialect: org.hibernate.dialect.PostgreSQLDialect
      hibernate.jdbc.time_zone: UTC
      hibernate.jdbc.lob.non_contextual_creation: true
  liquibase:
    change-log: classpath:database/migration/master.xml
    enabled: false
  output:
    ansi:
      enabled: always
  aop:
    auto: false
  messages:
    basename: messages/messages
logging:
  file: "logs/patho.log"
  pattern:
    file: "%d{dd-MM-yyyy HH:mm:ss.SSS} [%thread] %-5level %logger{36}.%M - %msg%n"
  level:
    org:
      springframework:
        security: ERROR
      # disable lob error
      hibernate:
        engine:
          jdbc:
            env:
              internal:
                LobCreatorBuilderImpl: ERROR
patho:
  common:
    ####### Task View #######
    taskView:
      tasksPerPage: 50
      tasksPerPageOptions:
        - 50
        - 100
        - 200
        - 300
  ####### LDAP #######
  ldap:
    ldapUrl: ldap://ldap.ukl.uni-freiburg.de/
    baseDn: dc=ukl,dc=uni-freiburg,dc=de
    userParentDn: people
    userDn: uid
  ####### JWT #######
  jwt:
    secret: 7w!z%C*F)J@NcRfUjXn2r5u8x/A?D(G+
    tokenPrefix: Bearer
    headerString: Authorization
  ####### JSON #######
  rest:
    patientByPizUrl: http://auginfo/piz/$piz
    patientByNameSurnameBirthday: http://auginfo/piz?name=$name&vorname=$surname&geburtsdatum=$birthday
    createPatientInPDV: http://augimageserver:3006/BK/piz_generieren?ldap=glatza
    requestTimeout: 50000
  ###### FAX  ######
  fax:
    faxPost: http://augimageserver:3033/$number
    faxStatus: http://augimageserver:3033/query_status/$id
  ####### SETTINGS #######
  printer:
    cupsPrinter:
      host: 10.210.21.254/printers/
      port: 631
      printerForRoom: http://10.210.21.11:3009/DB/PLS/ip2room/ip/$ip
    lablePrinter:
      printer:
        - name: Aug-Histo-Etikettendrucker-1
          id: 1
          location: Histologie-Labor
          address: 10.250.7.242
          port: 21
          userName: admin
          password: 1234
          timeout: 1000
        - name: Aug-Histo-Etikettendrucker-2
          id: 2
          location: Histologie-Labor
          address: 10.250.7.239
          port: 21
          userName: admin
          password: 1234
          timeout: 1000
  ####### SETTINGS #######
  settings:
    fileSettings:
      thumbnailDPI: 50
      fileRepository: file:D:/patho/
      workDirectory: file:D:/patho/pdf/
      auxDirectory: fileRepository:pdf/tmp
      errorDirectory: fileRepository:pdf/error
      printDirectory: fileRepository:pdf/print
      programInfo: fileRepository:.patho
      programVersionInfo: classpath:settings/version.txt
      copyOnFirstStartToWorkDirectory:
        -
          source: classpath:templates/print/*
          target: fileRepository:templates/print/
        -
          source: classpath:templates/mail/*
          target: fileRepository:templates/mail/
        -
          source: classpath:templates/print_label/*
          target: fileRepository:templates/print_label/
        -
          source: classpath:templates/print/_*
          target: "workDirectory:"
      cleanup: false
      keepErrorFiles: true
    pdfErrorFiles:
      pdfNotFoundPDF: fileRepository:templates/print/pdfnotfound.pdf
      pdfNotFoundIMG: fileRepository:templates/print/pdfnotfound.pdf
      reportNotApprovedPDF: fileRepository:templates/print/reportnotapproved.pdf
      reportNotApprovedIMG: fileRepository:templates/print/reportnotapproved.png
      renderErrorPDF: fileRepository:templates/print/pdfnotfound.pdf
    defaultDocuments:
      diagnosisApprovedDocument: 10
      diagnosisReportForUsers: 10
      taskCreationDocument: 3
      notificationDefaultEmailDocument: 10
      notificationDefaultEmail: 2
      notificationDefaultFaxDocument: 10
      notificationDefaultLetterDocument: 10
      notificationDefaultPrintDocument: 11
      notificationSendReport: 1000
      slideLabelDocument: 100
      slideLableTestDocument: 150
      printerTestDocument: 0
      emptyPage: fileRepository:templates/print/emptyPage.pdf
      lablePrinterTestPage: test.zpl
      cupsPrinterTestPage: fileRepository:templates/print/testPage.pdf
      restUploadErrorEmail: 4
      # id of the error mail if an scanned slide from the slidescanner was not found in the database
      scannedSlidesAdded: 6
      # id of miscellaneousDocument, document for creating patient in database
      createPDVPatientRequestDocument: 100
      # id of the mail that is send to admins on pdv patient creation
      createPDVPatientStatusMail: 5
    defaultNotification:
      defaultNotifications:
        - role: SURGEON
          notificationTyps:
            - EMAIL
        - role: CLINIC_PHYSICIAN
          notificationTyps:
            - EMAIL
        - role: EXTERNAL_SURGEON
          notificationTyps:
            - LETTER
    miscellaneous:
      phoneRegex: "^\\s*(?:[\\+#]?(\\d{1,3}))?([-. ()/\\\\]*(\\d*))*?\\s*$"
      noticeAdminOnPDVPatientCreation: true
      noticeAdminOnScannedSlideAdded: true
    schedule:
      pdfCleanupCron: '5 21 * * * *'
    externalDocumentMapper:
      -
        externalIdentifier: 60114293
        internalIdentifier: U_REPORT_COMPLETED
    documentTemplates:
      - id: 0 # Mail template
        templateName: com.patho.main.template.MailTemplate
        name: Benutzer-Freischaltung erfolgt
        content: fileRepository:templates/mail/successUnlock.json
      - id: 1 # Mail template
        templateName: com.patho.main.template.MailTemplate
        name: Benutzer-Freischaltung erbeten
        content: fileRepository:templates/mail/requestUnlock.json
      - id: 2 # Mail template
        templateName: com.patho.main.template.MailTemplate
        name: Diagnose-Benachrichtigung
        content: fileRepository:templates/mail/diagnosisReport.json
      - id: 3 # Mail template
        templateName: com.patho.main.template.MailTemplate
        name: Fehlermeldung!
        content: fileRepository:templates/mail/error.json
      - id: 4 # Mail template
        templateName: com.patho.main.template.MailTemplate
        name: Fehler beim Upload eines Dokuments!
        content: fileRepository:templates/mail/errorRestUpload.json
      - id: 5 # Mail template
        templateName: com.patho.main.template.MailTemplate
        name: Patient erstellt
        content: fileRepository:templates/mail/patientCreated.json
      - id: 6 # Mail template
        templateName: com.patho.main.template.MailTemplate
        name: Scanned Slides hinzugef√ºgt
        content: fileRepository:templates/mail/scannedSlidesAdded.json
      - id: 100 # json template
        name: Create-Patient
        templateName: com.patho.main.template.DefaultTemplateImpl
        content: fileRepository:templates/miscellaneous/createPatient.json
        defaultOfType: true
    ####### MAIL #######
    mailSettings:
      systemMail: augenklinik.histologie@uniklinik-freiburg.de
      systemName: Histologisches Labor der Augenklinik Freiburg
      adminAddresses:
        - andreas.glatz@uniklinik-freiburg.de
      errorAddresses:
        - andreas.glatz@uniklinik-freiburg.de
    ####### Print Documents #######
    documents:
      - id: 0
        name: Eingangsbogen
        content: fileRepository:templates/print/USchein_full.tex
        alternateContent:
        type: U_REPORT
        attributes:
        templateName: com.patho.main.template.print.CaseCertificate
        uiClass: com.patho.main.dialog.print.documentUi.CaseCertificateUi
        defaultOfType: false
        transientContent: true
        hidden: false
        sharedContextGroup: 2
      - id: 1
        name: Eingangsbogen bedrucken
        content: fileRepository:templates/print/USchein_empty.tex
        alternateContent: ""
        type: U_REPORT_EMTY
        attributes:
        templateName: com.patho.main.template.print.CaseCertificate
        uiClass: com.patho.main.dialog.print.documentUi.CaseCertificateUi
        defaultOfType: false
        transientContent: true
        hidden: false
        sharedContextGroup: 2
      - id: 2
        name: Eingangsbogen bedrucken, umgekehrt
        content: fileRepository:templates/print/USchein_empty_rotated180.tex
        alternateContent: ""
        type: U_REPORT_EMTY
        attributes: media:keyword:default,tray1
        templateName: com.patho.main.template.print.CaseCertificate
        uiClass: com.patho.main.dialog.print.documentUi.CaseCertificateUi
        defaultOfType: false
        transientContent: true
        hidden: false
        sharedContextGroup: 2
      - id: 3
        name: Eingangsbogen unbedruckt, umgekehrt
        content: fileRepository:templates/print/USchein_empty_no_patient_rotated180.tex
        alternateContent: ""
        type: U_REPORT_EMTY
        attributes: media:keyword:default,tray1
        templateName: com.patho.main.template.print.CaseCertificate
        uiClass: com.patho.main.dialog.print.documentUi.CaseCertificateUi
        defaultOfType: false
        transientContent: true
        hidden: false
        sharedContextGroup: 2
      - id: 10
        name: Befundbericht
        content: fileRepository:templates/print/Report_Intern.tex
        alternateContent: ""
        type: DIAGNOSIS_REPORT
        attributes: "sides:keyword:one-side#fit-to-page:boolean:true"
        templateName: com.patho.main.template.print.DiagnosisReport
        uiClass: com.patho.main.dialog.print.documentUi.DiagnosisReportUi
        defaultOfType: true
        transientContent: false
        hidden: false
        duplexPrinting: true
        printEvenPageCount: true
        sharedContextGroup: 1
        afterPDFCreationHook : true
      - id: 11
        name: Befundbericht - ohne Logo
        content: fileRepository:templates/print/Report_Intern_noLogo.tex
        alternateContent: ""
        type: DIAGNOSIS_REPORT
        attributes: "sides:keyword:one-side#media:keyword:default,tray2#fit-to-page:boolean:true"
        templateName: com.patho.main.template.print.DiagnosisReport
        uiClass: com.patho.main.dialog.print.documentUi.DiagnosisReportUi
        defaultOfType: false
        transientContent: false
        hidden: false
        duplexPrinting: true
        printEvenPageCount: true
        sharedContextGroup: 1
        afterPDFCreationHook : true
      - id: 20
        name: Befundbericht extern
        content: fileRepository:templates/print/Report_Extern.tex
        alternateContent: ""
        type: DIAGNOSIS_REPORT_EXTERN
        attributes: "sides:keyword:one-side#fit-to-page:boolean:true"
        templateName: com.patho.main.template.print.DiagnosisReport
        uiClass: com.patho.main.dialog.print.documentUi.DiagnosisReportUi
        defaultOfType: true
        transientContent: false
        hidden: false
        duplexPrinting: true
        printEvenPageCount: true
        sharedContextGroup: 1
        afterPDFCreationHook : true
      - id: 21
        name: Befundbericht extern - ohne Logo
        content: fileRepository:templates/print/Report_Extern_noLogo.tex
        alternateContent: ""
        type: DIAGNOSIS_REPORT_EXTERN
        attributes: "sides:keyword:one-side#media:keyword:default,tray2#fit-to-page:boolean:true"
        templateName: com.patho.main.template.print.DiagnosisReport
        uiClass: com.patho.main.dialog.print.documentUi.DiagnosisReportUi
        defaultOfType: true
        transientContent: false
        hidden: false
        duplexPrinting: true
        printEvenPageCount: true
        sharedContextGroup: 1
        afterPDFCreationHook : true
      - id: 50
        name: Konsil
        content: fileRepository:templates/print/council.tex
        alternateContent: ""
        type: COUNCIL_REQUEST
        attributes: "#fit-to-page:boolean:true"
        templateName: com.patho.main.template.print.CouncilReport
        uiClass: com.patho.main.dialog.print.documentUi.CouncilReportUi
        defaultOfType: true
        transientContent: false
        hidden: false
      - id: 100
        name: Default Slide Lable
        content: fileRepository:templates/print_label/defaultLable.zpl
        alternateContent: ""
        type: LABLE
        attributes: "#fit-to-page:boolean:true"
        templateName: com.patho.main.template.print.SlideLable
        defaultOfType: true
        transientContent: false
        hidden: false
      - id: 150
        name: Test Slide Lable
        content: fileRepository:templates/print_label/testLable.zpl
        alternateContent: ""
        type: TEST_LABLE
        attributes: "#fit-to-page:boolean:true"
        templateName: com.patho.main.template.print.SlideLable
        defaultOfType: true
        transientContent: false
        hidden: false
      - id: 1000
        name: Send Report
        content: fileRepository:templates/print/SendReport.tex
        alternateContent: ""
        attributes: "#fit-to-page:boolean:true"
        type: NOTIFICATION_SEND_REPORT
        templateName: com.patho.main.template.print.SendReport
        defaultOfType: true
        transientContent: false
        hidden: false
        afterPDFCreationHook : true
      
           
